<!--
    SPDX-FileCopyrightText: 2024 Simon Repp
    SPDX-License-Identifier: CC0-1.0
-->

# Tags

This is an attempt to document which tags (in terms of low-level technical
specification) faircamp supports/uses for its own fields, which ones it
writes, etc. Note that this documentation might not always be 100% complete
or accurate, as tags and their standardisation tend to be messy.

## AAC

Embedded cover images: Not supported

## AIFF

Embedded cover images: Not supported

Same tags as MP3 and WAV - see ID3.

## ALAC

Tag decoding for ALAC uses the [mp4parse](https://github.com/mozilla/mp4parse-rust) crate.

Embedded cover images: Not supported
License: cprt (tbd)
Release title: ©alb
Release artist: aART
Track artist/s: ©art, ©ART
Track number: trkn
Track title: ©nam

# Flac

Tag decoding for Flac uses the [metaflac](https://crates.io/crates/metaflac) crate.

Embedded cover images: Supported

Same tags as Ogg Vorbis and Opus - see Ogg Vorbis.

## ID3

Tag decoding for ID3 uses the [id3](https://github.com/polyfloyd/rust-id3) crate.
While that crate supports both ID3v2 and ID3v1, only the former is read by faircamp.

License: TCR [2.2] / TCOP [2.3, 2.4] (Copyright) (tbd)
Release title: TALB (Album)
Release artist: TPE2 (Album artist)
Track artist/s: TPE1 (Artist/s)
Track number: TRCK (Track)
Track title: TIT2 (Title)

## MP3

Embedded cover images: Supported

When transcoding to MP3, faircamp writes tags as ID3v2.3 rather than the latest
ID3v2.4. This is done to achieve greater compatibility with players and operating
systems (e.g. Windows and its media player have a long history of not supporting
ID3v2.4 tags).

Same tags as AIFF and WAV - see ID3.

## Ogg Vorbis

Tag decoding for Ogg Vorbis uses the [lewton](https://github.com/RustAudio/lewton) crate.

Embedded cover images: Not supported
License: "copyright" (tbd)
Release title: "album"
Release artist: "albumartist", "album artist"
Track artist/s: "artist"
Track number: "track_number"
Track title: "title"

## Opus

Tag decoding for Opus uses the [opus_headers](https://crates.io/crates/opus_headers) crate.

Embedded cover images: Not supported

Same tags as Flac and Ogg Vorbis - see Ogg Vorbis.

## WAV

Embedded cover images: Not supported

Known limitiations:
- Album artist tags can not be written to WAV files (at least not by FFmpeg,
  which is used by faircamp to encode audio files), therefore this tag will
  not appear in any WAV files generated by faircamp.
- Tags will only be copied to WAV output files with the `tags: copy` release
  option. (FFmpeg does not support explicitly defining the tags to be written
  to a WAV file, it only allows a full copy to be performed, or at least attempted)
- ID3 in WAV is generally pretty non-standard, so anything relating to tags in WAV
  can be considered unstable and might lead to glitches down to the player level.

Same tags as AIFF and MP3 - see ID3.
